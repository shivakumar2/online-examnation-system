# 文档介绍
## 文档目的
通过对系统所采用的技术，数据结构，功能架构等主要信息的介绍，使软件的管理者和使用者能够有效合理的对软件功能进行使用，维护以及后续开发。
## 文档范围
文档主要包括以下几项内容：
### 功能需求分析
1. 前台需求分析
2. 后台需求分析 
### 系统介绍
1. 运行环境
2. 权限管理
3. 模块结构
4. 数据库设计
### 使用流程
1. 管理员
2. 教师
3. 学生
# 功能需求分析
学员考试系统主要用于四海对学员的日常训练以及定期考评，是一个面向内部人员的封闭系统，需要在权限分层上做较为完善地划分，系统主要面向两类群体——四海教师和学员，学员通过注册进入系统进行学生端的日常训练，定期考试和历史成绩查看，教师通过注册进入系统完成教师端的出题，批改以及成绩的数据统计，因此该系统需要前台，后台相分离，共用一套数据库完成操作。
## 前台
前台主要面向四海学员，基本需要以下几项功能：
1. 注册和登录功能
2. 在线练习功能
3. 参加考试功能
5. 回顾已考试卷功能
4. 查询历史成绩功能
## 后台
后台主要面向四海教师，基本需要以下几项功能：
1. 注册和登录功能
2. 学员管理功能
3. 课程管理功能
4. 题库管理功能
5. 创建考试功能
6. 批改试卷功能
7. 查询成绩功能
# 产品介绍
## 运行环境
1. OS：Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-63-generic x86_64)
2. web server：apache-tomcat-8.5.12
3. JDK：1.8.0_121
4. 数据库：mysql_5.7.17-1ubuntu16.10_amd64
## 权限管理
![alt text](/pic/p1.png "p1")
1. 为便于教师对学员和考试的管理，系统将班级作为最基本的数据交互单元，教师和学生通过班级进行绑定，班级内部信息交互数据流通，班级之间相互隔断（同一教师所管理的班级之间例外），减轻了教师的管理压力，使系统在使用上做到简易高效便捷。
2. 系统将人员权限分为三层，分别是管理员，教师和学员，管理员作为一个初始化的单一公共管理账户，掌握教师和班级的许可权限（即可随时任免教师的登录权限和对班级的管理权限），负责维护公共数据，例如课程和题库；教师掌握学员的许可权限，负责维护班级的考试数据。
3. 教师可辅助管理员维护部分公共数据，例如课程的排序和题库的增删。
## 模块结构
### book
说明：课程模块，包含课程（course），学期（phase），章节（chapter），小节（chapter）四个实体类，依次存在隶属关系，用于课程相关的增删改查功能。<br>
**关键方法：通过子类实体所含的父类字段依次查找实现多级联动功能**
### question
说明：包含题型（questiontype），试题（question），选项（questionchoice），填空（fillingblank）四个实体类，实现单选，多选，填空，简答，编程共六种题型的增删改查功能。<br>
**关键方法：各类题型的添加，题目难度正确率等相关数据的计算**
### examnation
说明：包含试卷（examnation），试卷试题关联（examnationquestion）两个实体类，实现试卷的增改查以及试题的构成功能。<br>
**关键方法：试卷的随机生成和自主选题生成**
### record
说明：包含学员试卷关联（studentexamnation），学员答案关联（studentanswer），学员填空关联（studentfilling）三个实体类，实现对每一个学员每一场考试每一道试题答案的记录和查询功能。<br>
**关键方法：对学员答卷中标准答案题型的批改和总分，排名等数据统计**
### group
说明：包含班级（group）一个实体类，实现对班级的增删改查功能。
### user
说明：包含用户（user）一个实体类，实现对管理员，教师，学员三种用户的增删改查功能。<br>
**关键方法：各级用户的注册和登录及上级用户的授权**
### problem
说明：包含提问（problem）一个实体类，实现前台后台之间的信息交互功能。
### bussiness
说明：包含公告（bussiness）一个实体类，实现后台教师对前台所管理学员的发布公告功能。
## 数据库设计
### 软件选择
系统采用MySQL作为数据库，在于开源轻便，面对学员考试系统这种数据需求量较小的web项目足够满足需求。
### 关键表
1. 用户表（user）

| Id | Account | Password |	Name | Sex | Photo | State | User_type | Apply_date | Register_date | Group_id |
| -- | ------- | -------- | ---- | --- | ----- | ----- | --------- | ---------- | ------------- | -------- |
| UUID | 账号 | 密码 |	姓名 | 性别 | 照片 | 用户状态	| 用户类型 | 申请日期 | 通过日期 | 班级id |

用户状态：

| 0 | 1 | 2 |	3 | 4 |
| -- | ------- | -------- | ---- | --- |
| 停用 | 申请审核中 | 正常 |	暂停用 | 申请未通过 |

2. 题库表（question）

| Id | Type | Content |	Level | Course | Phase | Chapter1 | Chapter2 | Answer | Picture | Use_times |	Right_times |	Analyse |	State	 |Teacher_id |
| -- | ------- | -------- | ---- | --- | ----- | ----- | --------- | ---------- | ------------- | -------- | --------- | ---------- | ------------- | -------- |
| UUID | 题型 | 题目内容 |	难度 | 所属课程 | 所属学期 | 所属章节	| 所属小节 | 答案 | 配图 | 使用次数 | 答对次数 | 解析 | 题目状态 | 出题人 |

题型：

| 1 | 2 | 3 |	4 | 5 | 6 |
| -- | ------- | -------- | ---- | --- | --- |
| 单选 | 多选 | 判断 |	简答 | 编程 | 填空 |

3. 试卷表（examnation）

| Id | Title | Judge_number |	Judge_score | Single_choice_number | Single_choice_score | Multiple_choice_number | Multiple_choice_score | Filling_blank_number | Filling_blank_score | Short_answer_number |	Short_answer_score |	Programme_number |	Programme_score	 |teacher_id | Text_date | Start_time | End_time | State | Role | Set_style |
| -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- |
| UUID | 试卷标题 | 判断题数 |	判断题分 | 单选题数 | 单选题分 | 多选题数	| 多选题分 | 填空题数 | 填空题分 | 简答题数 | 简答题分 | 编程题数 | 编程题分 | 出卷人 | 考试日期 |	开始时间 | 结束时间 | 试卷状态 | 是否需要人工阅卷 | 生成方式 |

试卷状态：

| 1 | 2 | 3 |	4 | 5 |
| -- | --  | -- | -- | --- |
| 未开始 | 进行中 | 批改中 |	已结束 | 已过期 |

# 使用流程
## 管理员
1. 登录公共管理员账号，顶部导航栏为教师申请和新题申请提示，角标数字代表申请数量，左侧导航栏为管理员维护的几大模块，包括课程，题库和用户的维护，点击右上角的注销可退出。<br/>
![alt text](/pic/p2.png "p2")<br/>
2. 点击顶部导航栏的教师申请可以对新申请的教师账号进行通过或拒绝的授权操作，点击新题申请可以查看并通过或拒绝教师申请添加到题库中的新题，题目数较多时可点击一键通过快速通过所有试题申请。<br/>
![alt text](/pic/p3.png "p3")<br/>
![alt text](/pic/p4.png "p4")<br/>
3. 点击左侧导航栏的课程管理模块，可对已有的课程，学期，章节和小节进行增删改查的操作（注意：删除任何一级标题都会使该标题下关联的所有题库试题无法继续使用，但不会影响已经使用过这些题目的试卷和成绩）。<br/>
![alt text](/pic/p5.png "p5")<br/>
4. 点击左侧导航栏的试题管理可以查看每种题型下的所有试题详情，包括内容，使用次数，正确率等数据，并对题目进行删除操作，删除不会影响已经使用过该试题的试卷和成绩；同时在某一题型列表下点击右上角的添加新题可以直接添加该类题型进入题库。<br/>
![alt text](/pic/p6.png "p6")<br/>
5. 点击左侧导航栏的用户管理可以对教师，班级和学员进行查看，管理员拥有教师的登录权限，可在教师表中进行限制和许可，同时拥有班级的新建和所属教师任命权限，管理员可在任意时间更改班级信息（名称和所属教师），对于学生管理员只具有查看权限。<br/>
![alt text](/pic/p7.png "p7")<br/>
![alt text](/pic/p8.png "p8")<br/>
![alt text](/pic/p9.png "p9")<br/>
## 教师
1. 通过注册新账号，管理员审核通过后具备登录权限，登录进入系统管理界面，顶部导航栏为学员申请和学生提问，角标代表申请人数和提问数量，左侧导航栏为教师维护的几大模块，包括课程，题库，考试和班级，点击左侧设置选项可对教师个人信息进行修改，点击右上角的注销可退出。<br/>
![alt text](/pic/p10.png "p10")<br/>
2. 点击顶部导航栏的学员申请可对新申请的学员账号审核并进行通过或拒绝的授权操作，点击学生提问可查看学员的问题并进行回复。<br/>
![alt text](/pic/p11.png "p11")<br/>
![alt text](/pic/p12.png "p12")<br/>
3. 点击左侧导航栏的课程管理模块，可以查看课程，学期，章节和小节的目录结构并对父级标题下的子集标题进行排序操作，同时可以从末级标题直接查看该标题下全部的所属试题。<br/>
![alt text](/pic/p13.png "p13")<br/>
4. 点击左侧导航栏的试题管理可以查看每种题型下的所有试题详情，包括内容，使用次数，正确率等数据，并对题目进行删除操作，删除不会影响已经使用过该试题的试卷和成绩；同时在某一题型列表下点击右上角的申请添加可以申请添加新的题目到管理员权限下。<br/>
![alt text](/pic/p14.png "p14")<br/>
![alt text](/pic/p15.png "p15")<br/>
5. 点击左侧导航栏的考试管理可以进行考试的安排，查询已安排的考试并进行试卷的修改，批改已经考完的试卷，查看已结束的考试记录。<br/>
![alt text](/pic/p16.png "p16")<br/>
6. 设定考试时需输入试卷的标题，适用班级，考试日期和时间已经试卷生成的方式（注意：出题时须事先设定每种题型的统一分数，如需要对单个试题分数进行修改可在试题生成后的试卷页面对单个题目或题型分数进行修改）。<br/>
![alt text](/pic/p17.png "p17")<br/>
7. 考试设定结束后至开始考试前半小时内都可以在考试安排中查看该场考试的题数等相关信息，并对该场考试的试题分数，和题目内容进行更改（注意：每种题型的数量一旦确定不可更改）。<br/>
![alt text](/pic/p18.png "p18")<br/>
![alt text](/pic/p19.png "p19")<br/>
8. 考试结束后教师可在试卷批改中对该场考试的主观题部分进行批改（如果试卷中不含主观题该步骤不存在），批改过程无法保存，需一次性批改完成。<br/>
![alt text](/pic/p20.png "p20")<br/>
9. 批改完成后教师可在试卷档案中查看每场考试的数据统计（最高分，最低分，平均分等），同时可以查看每位参与考试的学员的答题详情。<br/>
![alt text](/pic/p21.png "p21")<br/>
10. 点击左侧导航栏的班级管理模块，可以发布公告（最新公告内容会显示在学员登录界面的首页），查看并回复学生的提问，查看所带班级同学并对学员进行授权和删除操作（注意：删除之后不可恢复）。<br/>
![alt text](/pic/p22.png "p22")<br/>
![alt text](/pic/p23.png "p23")<br/>
![alt text](/pic/p24.png "p24")<br/>
![alt text](/pic/p25.png "p25")<br/>
## 学生
1. 通过选择所在班级注册新账号，教师审核通过后即被登录权限，主页顶部导航栏分为考试，训练，提问和查询四个模块，点击个人姓名可以修改个人信息，点击注销可退出。<br/>
![alt text](/pic/p26.png "p26")<br/>
![alt text](/pic/p27.png "p27")<br/>
2. 点击顶部导航栏的考试选项可以查看已经设定好将要进行的考试，正在进行可以进入答题的考试以及以及结束可以查看答题情况的考试（注意：已经结束但未参加的考试或考试中存在非常规操作的考试会显示已过期标识，无法查看具体内容）。<br/>
![alt text](/pic/p28.png "p28")<br/>
![alt text](/pic/p29.png "p29")<br/>
3. 考试过程中顶部会显示剩余考试时间，学生可在答题结束后点击底部提交试卷按钮进行提交，考试时间结束后系统会自动提交试卷，如在考试过程中因各种原因关闭考试页面或退出考试系统，可在调试设备后重新登陆考试系统点击进入考试，系统会自动帮助用户记录部分答题内容。<br/>
4. 点击顶部导航栏的训练选项可以选择随机训练或精准训练，随机训练不限题目关联知识点和题型，精准训练可以对要训练的题目类型和知识点做限制。<br/>
![alt text](/pic/p30.png "p30")<br/>
![alt text](/pic/p31.png "p31")<br/>
5. 点击顶部导航栏的提问选项可以向教师进行提问，提问课程相关内容可附带知识点标题进行提问。<br/>
![alt text](/pic/p32.png "p32")<br/>
6. 点击顶部导航栏的查询选项可以查询提问后教师的回复并删除记录，同时可以快速查询所参与的考试成绩，排名等相关数据。<br/>
![alt text](/pic/p33.png "p33")<br/>
![alt text](/pic/p34.png "p34")<br/>
